Device qdot
{

  meshfile = dot5.msh
  mesh_units = 1e-9
  dimension = 3

  Region dot
  {
    mesh_regions = 1
    material = GaN
    x = 0.0

    structure = wz

  


    y-growth-direction = (-1,0,1,0)
    x-growth-direction = (-1,2,-1,0)   
    z-growth-direction = (0,0,0,1)

   
   Doping { 
    Nd = 1e15
    type = acceptor
    Ed = 0.025
  }

  }

  Region  buffer
  {
    mesh_regions = 2
    material = AlGaN
    x = 0.3
    structure = wz
   

    y-growth-direction = (-1,0,1,0)
    x-growth-direction = (-1,2,-1,0)   
    z-growth-direction = (0,0,0,1)
   

   Doping { 
    Nd = 1e15
    type = acceptor
    Ed = 0.025
   }
    
   
  }

  Region  buffer1
  {
    mesh_regions = 3
    material = AlGaN
    x = 0.3
    structure = wz
   
    y-growth-direction = (-1,0,1,0)
    x-growth-direction = (-1,2,-1,0)   
    z-growth-direction = (0,0,0,1)

   Doping { 
    Nd = 1e15
    type = acceptor
    Ed = 0.025
   }
    
   
  }
  
  Region  buffer2
  {
    mesh_regions = 4
    material = AlGaN
    x = 0.3
    structure = wz
   
    y-growth-direction = (-1,0,1,0)
    x-growth-direction = (-1,2,-1,0)   
    z-growth-direction = (0,0,0,1)


   Doping {
    Nd = 1e15
    type = acceptor
    Ed = 0.025
   }
   
  }
}



Module macrostrain
{

  name = str
  plot = (Strain, PiezoPolarization)
  substrate = substrate

  Solver
  {
    relative_tolerance = 1e-6
  }

  Physics
  {

    Boundary substrate
    {
      regions = 1
      type = substrate
      material = AlGaN
      x = 0.3
      structure = wz

      y-growth-direction = (-1,0,1,0)
      x-growth-direction = (-1,2,-1,0)   
      z-growth-direction = (0,0,0,1)
    }
  }

} 


Module driftdiffusion
{ 

  name = dd
  plot = (Ec, Ev, eQFermi, hQFermi, ElField, Polarization)

  coupling = poisson
  integration_order = 2

  Solver
  {
    max_iterations = 70
    relative_tolerance = 1e-10
    absolute_tolerance = 1e-10
    step_tolerance = 1e-9
    max_step = 2
  }


  Physics
  {
 
    strain_simulation = str

    particle_density
    {
      statistics = fermidirac
    }

    recombination srh { }

    polarization (piezo, pyro) { } 
  
    electron_mobility doping_dependent { }


    hole_mobility doping_dependent { }

  }
}


 


Module efaschroedinger
{
  name = quantum_el
  regions = (1,2)
  plot = (EigenFunctions, EigenEnergy, EnergyLevels)

  Dirichlet_bc_everywhere = true
  particle = el
  number_of_eigenstates = 5
  poisson_model_name = dd
  strain_model_name = macrostrain
  convergent_density = true
  log_output = true

  solver = krylovshur 

  monitor = true
  ksp_type = bcgsl
  pc_type =  jacobi

  Physics
  {
    model = conduction_band
    particle = el
  }
}


Module efaschroedinger
{
  name = quantum_hl
  regions = (1,2)
  plot = (EigenFunctions, EigenEnergy, EnergyLevels)

  x-periodicity = false
  Dirichlet_bc_everywhere = true
  particle = hl
  number_of_eigenstates = 8
  poisson_model_name = dd
  strain_model_name = macrostrain
  convergent_density = true

  solver = krylovshur

  log_output = true
  monitor = true

  ksp_type = bcgsl
  pc_type =  jacobi

  Physics
  {
    particle = hl
    model = kp
    kp_model = 6x6
  }
}




Simulation
{
  temperature = 300

  solve = (str, dd,quantum_el, quantum_hl)
 
  resultpath = output
  output_format = (gmv, vtk)
}
