
# Description of  the  device physical regions
Device
{
  meshfile = oled.msh
  mesh_units = 1e-9
  material = Alq3


   Region htl
   {
     Doping { type = acceptor density = 1e18 incomplete_ionization = false }
   }

   Region eml 
   {
   }

   Region etl
   {
     Doping { type = donor density = 1e18 incomplete_ionization = false }
   }

}


Module dd_generic
{ 

  name = ddg
  plot = (ElPotential, QFermi, Density, RefEnergy, Mobility, Conductivity, CurrentDensity, Flux, NetRecombination, ContactCurrents)

  Physics
  {

    carrier electron
    {
      regions = htl


      density_of_states gauss
      {
        level = -2.2
        sigma = 0.14
        N0 = 1e19
      }
    }

    carrier electron
    {
      regions = (eml, etl)

      density_of_states gauss
      {
        level = -2.9
        sigma = 0.13
        N0 = 1e20
      }
    }

    carrier eguest
    {
      regions = (eml)
      charge = -1

      density_of_states gauss
      {
        level = -3.1
        sigma = 0.1
        N0 = 1e19
      }
    }

    carrier hole
    {
      regions = (htl, eml)

      density_of_states gauss
      {
        level = -5.5
        sigma = 0.14
        N0 = 1e19
      }
    }

    carrier hguest
    {
      regions = (eml)
      charge = 1

      density_of_states gauss
      {
        level = -5.3
        sigma = 0.1
        N0 = 1e18
      }
    }

    carrier hole
    {
      regions = (etl)

      density_of_states gauss
      {
        level = -5.8
        sigma = 0.13
        N0 = 1e20
      }
    }

    carrier singlet
    {
      regions = eml
      charge = 0
      spin = 0

      density_of_states gauss 
      {
        level = 2.0
        # R = 0.2
        sigma = 0.05
        N0 = 1e19
      }
    }

    carrier triplet
    {
      regions = eml
      charge = 0
      spin = 1

      density_of_states gauss 
      {
        level = 1.98
        #R = 0.22
        sigma = 0.05
        N0 = 3e19
      }
    }


    mobility constant
    {
      carriers = (electron)
      mu = 1e-5
    }

    mobility constant
    {
      regions = eml
      carriers = (eguest, hguest)
      mu = 1e-5
    }

    mobility constant
    {
      regions = (etl, eml)
      carriers = (hole)
      mu = 8e-8
    }

    mobility constant
    {
      regions = (htl)
      carriers = (hole)
      mu = 8e-4
    }

    mobility constant
    {
      carriers = (singlet)
      mu = 3.85e-3
    }

    mobility constant
    {
      carriers = (triplet)
      mu = 1.92e-4
    }

    recombination direct
    {
      plot_name = eh
      carriers = (electron, hole)
      C = 1e-12
    }

    recombination direct
    {
      regions = eml
      plot_name = hg
      carriers = (electron, eguest)
      C = 1e-12
    }

    recombination direct
    {
      regions = eml
      plot_name = hg
      carriers = (hole, hguest)
      C = 1e-12
    }

    Rrecombination direct
    {
      regions = eml
      plot_name = eghg
      carriers = (hguest, eguest)
      C = 1e-12
    }

    recombination exciton_generation
    {
      regions = eml
      plot_name = gen_S
      carriers = (eguest, hguest, singlet)
      C = 1e-30
    }

    recombination exciton_generation
    {
      regions = eml
      plot_name = gen_T
      carriers = (eguest, hguest, triplet)
      C = 1e-30
    }


    recombination exciton_decay
    {
      regions = eml
      plot_name = rad_S
      carriers = singlet
      tau = 1e-6
    }

    recombination exciton_decay
    {
      regions = eml
      plot_name = rad_T
      carriers = triplet
      tau = 1e-3
    }


    recombination exciton_isc
    {
      regions = eml
      plot_name = isc
      carriers = (singlet, triplet)
      C = 1e-14
    }


  }

  Contact anode
  {
    type = schottky
    metal_fermilevel = -4.9
    band = hole
    voltage = $Vb
    scott_malliaras = true
    isolated_carriers = (singlet, triplet)
  }

  Contact cathode
  {
    type = schottky
    metal_fermilevel = -3.4
    band = electron
    voltage = 0.0
    scott_malliaras = true
    isolated_carriers = (singlet, triplet)
  }

  Solver linesearch
  {
    max_iterations = 20
    step_tolerance = 1e-2
  }

}


Module sweep
{
  name = sweep1
  solve = ddg
  variable = $Vb
  start = 0.0
  stop = 1.0
  steps = 10
  plot_data = true
}

Module sweep
{
  name = sweep2
  solve = ddg
  variable = $Vb
  start = 1.0
  stop = 4.0
  steps = 60
  plot_data = true
}



Simulation
{
  temperature = 300
  solve = (ddg, sweep1, sweep2)
  resultpath = output
  output_format = grace
}














