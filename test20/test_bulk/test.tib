
# Description of  the  device physical regions
Device
{
  meshfile = bulk2D.msh  
  mesh_units = 1e-9

  material = GaAs

   Doping { Nd = 1e17  type = donor  level = 0.025  g=2} 

   Region bulk 
   {
   }

   Quantum_contact anode
   {
    regions = bulk
   }

   Quantum_contact cathode
   {
    regions = bulk
   }

}


# Definition of  Simulation Models  and associated Boundary Conditions 
Module driftdiffusion
{
  regions = (all)
  # is default
  # statistics = fermidirac

  #save_state = true
  #load_state = outputd10nml50/driftdiffusion_Vd_0.3_Vg_0.4.tsv
  plot = (Ec, Ev, eQFermi, eQFermi, eDensity, hDensity,
          eCurrentDensity, hCurrentDensity, NetRecombination,
          ElField, ElPotential, ContactCurrent)

  Contact cathode
  {
    voltage = 0.0
  }
 
  Contact anode
  {
    voltage = $Vd[0.0]
  }

  Physics
  {
#    band_properties simple
#    {
#       m_dos_e = 0.0422 #known issue of factor 2^(2/3)
#       m_dos_h = 0.0422
#    }
  }
}

Module efaschroedinger
{
  name = quantum_el
  regions = (anode, cathode, bulk)
  poisson_model_name = driftdiffusion

  plot = (ProbabilityDensity, EigenEnergy, QuantumDensity,k_dispersion)

  Solver
  {
    number_of_eigenstates = 6
    Dirichlet_bc_everywhere = false
  }

  Physics
  {
    model = conduction_band #8x8
    spurious = none #  Foreman
    cb_vb_coupling = false
    #kpVVtermSymmetric = true
    #Ep_1 = 2
    #Ep_2 = 2
    #m_c = 0.2
    m_v = 0.067 
  }

  NOTBulkDispersion
  {
    point=(0.0 0.0 0.0)
    k-path = G-X
    k_max = 1.0
    number_of_nodes = 10	
  }	
}


Module sweep
{
  name = sweep_drain 
  solve = (driftdiffusion,negf)
  variable = $Vd
  start = 0.0
  stop = 1.0
  steps = 50 
  plot_data = true
}

Module negf
{
  #plot = (hlDensity)
  plot = (elDensity, ReorderPotential)
  regions = (bulk)

  potential_simulation = driftdiffusion
  Boundary anode{}
  Boundary cathode{}
  print_matrices = true
 
  Solver
  {
    #verbosity = 99 
    #writeLDOS = 1
    Np_contour = (50,100)
    Np_real = 0
    Npoles = 1 
    delta = 1e-6
    n_kT = 30
    deltaEc = 0.1
    deltaEv = 0.1
    Emin = -0.5
    Emax = 0.5
    Estep = 0.002
  }

  Physics
  {
    hamiltonian efa {simulation = quantum_el}
  }
  
  k_integration_density
  {
    k_max = 1.30
#    verbose = 4 
#    gamma_point_calculation = true
    # k_max = 0.750
    number_of_elements = (6,6)
  }

# k_integration_current
# {
#   verbose = 4
#   gamma_point_calculation = true
  #k_max = 0.5
  #number_of_elements = (5,5)
# }


}


# Definition of  model-independent parameters of the Simulation
Simulation
{
  temperature = 300
  #solve = (driftdiffusion, quantum_el) 
  solve = (driftdiffusion, negf) 
  #solve = (sweep_drain)
  resultpath = output
  #scratchpath = /scratch/maufder/scratch_NEGF
}














