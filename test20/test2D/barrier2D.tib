
# Description of  the  device physical regions
Device
{
  meshfile = test2D.msh  
  mesh_units = 1e-9

  material = GaAs
  
  #x-growth-direction = (1, 1, 0)
  #y-growth-direction = (1, -1, 0)
  #z-growth-direction = (0, 0, 1)

   Region source_region
   {
     Doping {
       type = donor
       Nd = 2e18 
     }
   }

   Region oxide1
   {
    material = AlAs
   }
  
   Region oxide2
   {
    material = AlAs
   }  
  
   Region dd_drain_region
   {
    Doping {
      type = donor
      Nd = 2e18
     }
   }  
 
   Region dd_source_region
   {
    Doping {
      type = donor
      Nd = 2e18
     }
   } 


   Region barrier1
   {
    #material = AlAs      
     Doping {
       type = donor
       Nd = 2e18 
     }
   }

   Region barrier2
   {
     #material = AlAs           
     Doping {
       type = donor
       Nd = 2e18 
     }
   }

  Region drain_region
   {
     Doping {
       type = donor
       Nd = 2e18 
     }
   }

   Region well
   {
material = InAs
x = 0.3
     Doping {
       type = donor
       Nd = 2e18 
     }
   }

   Cluster barrier
   {
    regions=(barrier1, well, barrier2)
   }

   
   Quantum_contact int_source
   {
    regions = (source_region,oxide1,oxide2) 
    length = 0.25
   }

   Quantum_contact int_drain
   {
    regions = (drain_region,oxide1,oxide2)
    length = 0.25
   }

   Atomistic tb
   {
   reference_region = int_source
   regions = (barrier, int_source, int_drain)
   passivation = yes
   print = (xyz)
   }


}


# Definition of  Simulation Models  and associated Boundary Conditions 
Module driftdiffusion
{ 
  regions = (dd_drain_region,dd_source_region,oxide1,oxide2,source_region,drain_region,barrier1,barrier2,well)
  # is default
  # statistics = fermidirac

  # we solve only for electrons
  coupling = electrons

  #save_state = true
  #load_state = outputd10nml50/driftdiffusion_Vd_0.3_Vg_0.4.tsv
  plot = (Ec, Ev, eQFermi, eQFermi, eDensity, hDensity,
          eCurrentDensity, hCurrentDensity, NetRecombination,
          ElField, ElPotential, ContactCurrent)

  Physics
  {
    #recombination
    #{
    #  model = srh
    #}

  }

  Contact source
  {
    voltage = 0.0
  }
 
  Contact drain
  {
    voltage = $Vd[0.0]
  }
}



Module sweep
{
  name = sweep_drain 
  solve = (driftdiffusion, negf)
  variable = $Vd
  start = 0
  stop = 1
  steps = 25
  plot_data = true
}

Module negf
{
  plot = (elDensity)
  regions = (source_region,barrier1,well,barrier2,drain_region,oxide1,oxide2)
  potential_simulation = driftdiffusion
  Boundary int_source{}
  Boundary int_drain{}
  
  Solver
  {
    Emin = -0.6
    Emax = 0.6 
    Estep = 0.01
  }

  Physics
  {
    # hamiltonian single_band { } 
     hamiltonian single_band {valley = G}
  }

  k_integration_density
  {
    k_max = 1.0  # in 1/nm ! 
    number_of_elements = 5
  }

}

Module elasticity
{

  name = strain
  plot = (Strain, Stress)
  nonlinear_strain = true

  Physics
  {
    body_force lattice_mismatch
    {
      reference_material = GaAs
    }

  }
    
  Boundary source
  {
    type = clamp
  }
    
}


Module efaschroedinger
{
  name = quantum_el

  regions = (source_region,barrier1,well,barrier2,drain_region,oxide1,oxide2)
  
  particle = el
  poisson_model_name = driftdiffusion

  plot = (EigenFunctions, EigenEnergy, EnergyLevels,ProbabilityDensity,QuantumDensity)

  Solver
  {
    number_of_eigenstates = 6 
  }	


  Physics
  {
    model = conduction_band

    #model = kp   #  k.p  for  valence  band
    #kp_model = 8x8
  }

}


# Definition of  model-independent parameters of the Simulation
Simulation
{
  temperature = 300
  solve = (strain, driftdiffusion,negf,quantum_el)

  resultpath = output
  scratchpath = /work/fpalomba/
  output_format = vtk
}














