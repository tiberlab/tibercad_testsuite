Device
{
  meshfile = quantum_well.msh
  mesh_units = 1e-9
  dimension = 1

  # this should be the default
  # x-growth-direction = (0,0,0,1)

  Region well
  {
    mesh_regions = 1
    material = GaN


   
    Doping {

      Nd = 1e18
      type = acceptor
      Ed = 0.025
    }
  }

  Region  buffer
  {
    mesh_regions = 2
    material = AlGaN
    x = 0.3


   
   Doping {

    Nd = 5e16
    type = acceptor
    Ed = 0.025
   }
    
   
  }
  
  

  Region  buffer
  {
    mesh_regions = 3
    material = AlGaN
    x = 0.3
   
   
   Doping {

    Nd = 5e16
    type = acceptor
    Ed = 0.025
   }
    
   
  }


  

}

Module elasticity
{
 plot = (Strain,Stress,Displacement)

 Physics
 {
   body_force lattice_mismatch
   {
    reference_material = AlGaN
    x = 0.3
    #x-growth-direction = (0,0,0,1)
   }

 }

 Contact substrate
 { 
   type = clamp
   regions = 1
 }

}


 


Module  driftdiffusion
{ 
  name = dd

  plot = (Polarization, Ec, Ev, ElField , eDensity, hDensity)
      
  coupling = poisson
  integration_order = 2

  Solver
  {
    max_iterations = 70
    relative_tolerance = 1e-10
    absolute_tolerance = 1e-10
    step_tolerance = 1e-9
    max_step = 40
    #ls_type = none
    #pc_type = composite
    ksp_type = bcgs
  }


  Physics
  {

    recompute_band_parameters = true

    band_properties
    {
      density_of_states bulk_kp
      {
        strain = elasticity
      }
    }


    recombination srh {}

    polarization pyro {}
    polarization piezo { strain_simulation = elasticity }
  
    mobility doping_dependent {}

  }

  Contact cathode
  {
    regions = 1
    #zero_grad_fermi_e = true
    type = ohmic
  }


  Contact anode
  {
    regions = 2
    #zero_grad_fermi_e = true
    type = ohmic
    voltage = $Vb 
  }
}

 


Module efaschroedinger
{
  name = quantum

  poisson_model_name = dd
  strain_model_name = elasticity


  plot = (EigenFunctions, EigenEnergy, EnergyLevels)

  Solver
  {
    num_electron_states = 4
    num_hole_states = 12
    	
    # solver = krylovshur
    #solver = lapack
  }	


  Physics
  {
    model = 8x8
  }

  Dispersion
  {
    k-path = G-S
    k_max = 0.5
    number_of_nodes = 10	
  }	


}



Simulation
{  
  temperature = 300
  verbose = 3
  solve = (elasticity, dd, quantum)  

  resultpath = output
  output_format = grace
}
