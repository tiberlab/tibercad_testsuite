Device
{

  material = Si
  
  meshfile = bulk.msh
  dimension = 2
  symmetry = cylindrical

  Region n_side{
   Doping
   {
     type = donor 
     Nd = 1e18
   }
  }

  Region p_side{
   Doping
   {
     type = acceptor 
     Nd = 1e18
   }
  }

   Region air { material = Air }

}


Module driftdiffusion
{
                
  plot = (Ec, Ev, eQFermi, hQFermi, eDensity, hDensity, NetRecombination,Pn,Pp,thermal,ContactCurrents)

  regions = (n_side,p_side)


  Physics
  {
    
    thermal_simulation = thermal
    recombination srh{}
    thermoelectric_power diffusivity_model{}
    mobility doping_dependent{}
  }  

  Contact anode
  {
     type = ohmic
     voltage = $Vb[0.0]
  }

  Contact cathode
  {
     type = ohmic
     voltage = 0.0
  }

} 
  
Module thermal
{

   plot = (LatticeTemp,ThermalFlux,HeatSource)

   Physics   
   {
      heat_source joule {DD_simulation = driftdiffusion}
   }

   Contact reservoir
   {
     type = heat_reservoir
     temperature = 300
   }

   Contact dissipator
   {
     r_surf = 0.5
     type = surface_resistance
     temperature = 300
  }

}

Module selfconsistent
{
   solve = (driftdiffusion,thermal)
   absolute_tolerance = 1e-5
   monitor = true
}

Module sweep
{
  solve = driftdiffusion
  variable = $Vb
  start = 0.0
  stop = 1.2
  steps = 12
  plot_data = true
}


Simulation
{
  verbose = 3
  solve = (sweep,selfconsistent)
  resultpath = output
  output_format = vtk
}

