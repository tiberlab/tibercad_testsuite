
Device
{

  material = Si
  
  meshfile = diode.msh
  dimension = 2
  temperature = 300
  symmetry = cylindrical

  Region n_side{
   doping
   {
     type = donor 
     Nd = 1e18
   }
  }

  Region p_side{
   doping
   {
     type = acceptor 
     Nd = 1e18
   }
  }

   Region air{material = Air}

}


Module driftdiffusion
{
                
  plot = (Ec, Ev, QFermi_e, QFermi_h, eDensity, hDensity, NetRecombination,Pn,Pp,thermal,ContactCurrents)

  regions = (n_side,p_side)


  Physics
  {
    
    thermal_simulation = thermal
    recombination srh{}
    thermoelectric_power diffusivity_model{}
    electron_mobility doping_dependent{}
    hole_mobility doping_dependent{}
  }  

  Contact anode
  {
     type = ohmic
     voltage = $Vb[0.0]
  }

  Contact cathode
  {
     type = ohmic
     voltage = 0.0
  }

} 
  
Module thermal
{

   plot = (LatticeTemp,ThermalFlux)

   Physics   
   {
     HeatSource joule{DD_simulation = driftdiffusion}
   }

   Contact reservoir
   {
     type = heat_reservoir
     temperature = 300
   }

   Contact dissipator
   {
     r_surf = 0.5
     type = surface_resistance
     temperature = 300
   }
}

Module selfconsistent
{
   flavour = relaxation
   simulations = (dd,tt)
   abs_tolerance = 1e-5
   monitor = true
}

Module sweep
{
  
  solve = (driftdiffusion,thermal)
  variable = $Vb
  start = 0.0
  stop = 1.2
  steps = 12
}


Simulation
{
  temperature = 300
  solve = sweep
  resultpath = output
  output_format = vtu
}

